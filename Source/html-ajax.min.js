/*
 * Dynamic ajax form
 * Author: Leon Harvey
 * Usage
 * <form action="process.php" method="POST" class="ajaxSubmit">
 * 
 */
function submitForm(){if(!ajaxIdentifier.attr("data-before")||window[ajaxIdentifier.attr("data-before")](ajaxIdentifier)){var e,t,n;runPlugins("before");if(ajaxIdentifier.attr("data-upload")=="true"){e=new FormData(ajaxIdentifier[0]);t=false;n=false}else{e=ajaxIdentifier.serialize();t=false;n="application/x-www-form-urlencoded; charset=UTF-8"}$.ajax({url:ajaxIdentifier.attr("action"),type:ajaxIdentifier.attr("method"),data:e,processData:t,contentType:n,success:window[ajaxIdentifier.attr("data-after")]}).done(function(e){if(ajaxIdentifier.attr("data-return")){$.when($(ajaxIdentifier.attr("data-return")).html(e)).then(function(){runPlugins("after",e)})}if(ajaxIdentifier.attr("data-append")){$.when($(ajaxIdentifier.attr("data-append")).append(e)).then(function(){runPlugins("after",e)})}})}}function runPlugins(e,t){try{var n=ajaxIdentifier.attr("data-plugins").split("|");$.each(n,function(n,r){window["ajaxPlugin_"+r+"_"+e](t,ajaxIdentifier)})}catch(r){}}function ajaxPlugin_fadeIn_after(e,t){if(t.attr("data-return"))$(t.attr("data-return")).fadeIn("fast");if(t.attr("data-append"))$(t.attr("data-append")).fadeIn("fast")}function ajaxPlugin_slideIn_after(e,t){if(t.attr("data-return"))$(t.attr("data-return")).slideIn("fast");if(t.attr("data-append"))$(t.attr("data-append")).slideIn("fast")}var ajaxIdentifier;$(".ajaxSubmit").submit(function(e){e.preventDefault();ajaxIdentifier=$(this);submitForm()});$(document).on("change",".ajaxChange",function(){ajaxIdentifier=$(this);submitForm()})