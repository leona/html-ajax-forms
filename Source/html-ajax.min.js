/*
 * Dynamic ajax form
 * Author: Leon Harvey
 * Usage
 * <form action="process.php" method="POST" class="ajaxSubmit">
 * 
 */
!function(){function t(){if(!n.attr("data-before")||window[n.attr("data-before")](n)){var t,e,r;a("before"),"true"==n.attr("data-upload")?(t=new FormData(n[0]),e=!1,r=!1):(t=n.serialize(),e=!1,r="application/x-www-form-urlencoded; charset=UTF-8"),$.ajax({url:n.attr("action"),type:n.attr("method"),data:t,processData:e,contentType:r,success:window[n.attr("data-after")]}).done(function(t){n.attr("data-return")&&$.when($(n.attr("data-return")).html(t)).then(function(){a("after",t)}),n.attr("data-append")&&$.when($(n.attr("data-append")).append(t)).then(function(){a("after",t)})})}}function a(t,a){try{var e=n.attr("data-plugins").split("|");$.each(e,function(e,r){window["ajaxPlugin_"+r+"_"+t](a,n)})}catch(r){}}var n;$(".ajaxSubmit").submit(function(a){a.preventDefault(),n=$(this),t()}),$(document).on("change",".ajaxChange",function(){n=$(this),t()})}();